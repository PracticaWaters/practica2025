<div class="p-6">

  <div class="bg-gray-800 shadow rounded overflow-hidden">

    <div class="flex items-center justify-between p-4 cursor-pointer" (click)="toggleForm()">
      <h2 class="text-xl text-[var(--light)] font-bold">Adaugă Film</h2>
      <span [ngClass]="{ 'rotate-180': formDeschis }" class="transition-transform text-[var(--light)] text-2xl">▼</span>
    </div>

    <!-- FORMULAR -->
    <div *ngIf="formDeschis" class="p-4 text-[var(--light)] pt-0">
      <form (ngSubmit)="adaugaFilm()" #filmForm="ngForm" class="space-y-2">

        <input type="text" [(ngModel)]="filmNou.name" name="name" placeholder="Titlu" required class="border p-2 w-full rounded" />
        <input type="text" [(ngModel)]="filmNou.image" name="image" placeholder="Path imagine (din assets)" required class="border p-2 w-full rounded" />
        <input type="text" [(ngModel)]="filmNou.trailer" name="trailer" placeholder="Link trailer YouTube" class="border p-2 w-full rounded" />
        <input type="text" [(ngModel)]="filmNou.description" name="description" placeholder="Descriere" class="border p-2 w-full rounded" />
        <input type="text" [(ngModel)]="filmNou.ageRating" name="ageRating" placeholder="Rating vârstă (ex. 12+)" class="border p-2 w-full rounded" />
        <input type="text" [(ngModel)]="filmNou.duration" name="duration" placeholder="Durată (ex. 2h 30m)" class="border p-2 w-full rounded" />


  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Data lansării</mat-label>
    <input matInput [matDatepicker]="releasePicker" [(ngModel)]="filmNou.releaseDate" name="releaseDate" class="text-[var(--light)]">
    <mat-datepicker-toggle matSuffix [for]="releasePicker">
      <mat-icon matDatepickerToggleIcon class="text-[var(--light)]">event</mat-icon>
    </mat-datepicker-toggle>
    <mat-datepicker #releasePicker></mat-datepicker>
  </mat-form-field>


  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Început rulare</mat-label>
    <input matInput [matDatepicker]="startPicker" [(ngModel)]="filmNou.startRunningDate" name="startRunningDate" class="text-[var(--light)]">
    <mat-datepicker-toggle matSuffix [for]="startPicker">
      <mat-icon matDatepickerToggleIcon class="text-[var(--light)]">event</mat-icon>
    </mat-datepicker-toggle>
    <mat-datepicker #startPicker></mat-datepicker>
  </mat-form-field>

  <mat-form-field appearance="outline" class="w-full">
    <mat-label>Sfârșit rulare</mat-label>
    <input matInput [matDatepicker]="endPicker" [(ngModel)]="filmNou.endRunningDate" name="endRunningDate" class="text-[var(--light)]">
    <mat-datepicker-toggle matSuffix [for]="endPicker">
      <mat-icon matDatepickerToggleIcon class="text-[var(--light)]">event</mat-icon>
    </mat-datepicker-toggle>
    <mat-datepicker #endPicker></mat-datepicker>
  </mat-form-field>
        <button
          class="bg-[var(--button-cta)] text-[var(--dark)] px-6 py-3 rounded-md cursor-pointer font-bold hover:bg-[var(--light)] transition-all duration-300 w-full"
        >
          Adaugă
        </button>

      </form>
    </div>

  </div>

<div class="mt-6 space-y-4">
  <div
    *ngFor="let film of filme"
    class="bg-gray-800 rounded-2xl shadow flex items-center overflow-hidden h-32 px-4"
  >
    <!-- Imagine -->
    <div class="h-full w-24 flex-shrink-0">
      <img
        [src]="film.image"
        alt="{{ film.title}"
        class="w-full h-full object-cover"
      />
    </div>

    <!-- DETALII + BUTOANE pe ACELAȘI RÂND -->
    <div class="flex-1 flex items-center justify-between px-4 text-white gap-4">

      <!-- Detalii în linie -->
      <div class="flex items-center gap-6 truncate">
        <span class="font-bold text-lg">{{ film.name }}</span>
        <span class="text-sm text-gray-300">{{ film.description }}</span>
        <span class="text-xs text-gray-400">Durată: {{ film.duration }}</span>
      </div>

      <!-- Butoane -->
      <div class="flex gap-2">
        <button
          (click)="editeazaFilm(film)"
          class="bg-yellow-400 hover:bg-yellow-500 text-black font-semibold px-4 py-1 rounded"
        >
          Editează
        </button>
        <button
          (click)="stergeFilm(film.id)"
          class="bg-red-500 hover:bg-red-600 text-white font-semibold px-4 py-1 rounded"
        >
          Șterge
        </button>
      </div>

    </div>
  </div>
</div>



