<div
  *ngFor="let faq of visibleFaqs; trackBy: trackByFaq"
  class="mb-3 sm:mb-4 bg-white/5 backdrop-blur-lg border border-white/20 rounded-xl overflow-hidden transition-all duration-300 hover:shadow-lg"
>
  <div
    class="flex justify-between items-center p-3 sm:p-4 cursor-pointer bg-white/5 hover:bg-white/10 transition-all duration-300"
    (click)="toggle(faq)"
  >
    <span
      class="text-white font-medium text-xs sm:text-sm md:text-base flex-1 pr-2"
      >{{ faq.question }}</span
    >
    <span
      class="text-white text-lg sm:text-xl font-bold transition-transform duration-300 flex-shrink-0"
      [class.rotate-180]="faq.expanded"
    >
      {{ faq.expanded ? "−" : "+" }}
    </span>
  </div>
  <div
    *ngIf="faq.expanded"
    class="p-3 sm:p-4 bg-white/5 text-gray-200 text-xs sm:text-sm md:text-base leading-relaxed transition-all duration-200 ease-out"
  >
    {{ faq.answer }}
  </div>
</div>

<!-- Expand Button -->
<div *ngIf="hasMoreFaqs()" class="mt-4 sm:mt-6 text-center">
  <button
    (click)="toggleShowAll()"
    class="lg:w-110 sm:w-full md:w-full self-center bg-gradient-to-r to-gray hover:from-gray bg-transparent border-white/20 border-1 text-white font-semibold px-8 py-4 rounded-xl transition-all duration-300 hover:scale-101 hover:bg-white hover:bg-opacity-30 hover:text-gray-900"
  >
    <span *ngIf="!showAll" class="flex items-center justify-center gap-2">
      <svg
        class="w-4 h-4 sm:w-5 sm:h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
      Vezi toate întrebările ({{ faqs.length - initialCount }})
    </span>
    <span *ngIf="showAll" class="flex items-center justify-center gap-2">
      <svg
        class="w-4 h-4 sm:w-5 sm:h-5 rotate-180"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
      Ascunde întrebările
    </span>
  </button>
</div>
