<div
  *ngFor="let faq of visibleFaqs; trackBy: trackByFaq"
  class="mb-4 bg-white/5 backdrop-blur-lg border border-white/20 rounded-xl overflow-hidden transition-all duration-300 hover:shadow-lg"
  [@fadeIn]
>
  <div
    class="flex justify-between items-center p-4 cursor-pointer bg-white/5 hover:bg-white/10 transition-all duration-300"
    (click)="toggle(faq)"
  >
    <span class="text-white font-medium text-sm md:text-base">{{
      faq.question
    }}</span>
    <span
      class="text-white text-xl font-bold transition-transform duration-300"
      [class.rotate-180]="faq.expanded"
    >
      {{ faq.expanded ? "âˆ’" : "+" }}
    </span>
  </div>
  <div
    *ngIf="faq.expanded"
    class="p-4 bg-white/5 text-gray-200 text-sm md:text-base leading-relaxed"
    [@slideDown]
  >
    {{ faq.answer }}
  </div>
</div>

<!-- Expand Button -->
<div *ngIf="hasMoreFaqs()" class="mt-6 text-center" [@fadeIn]>
  <button
    (click)="toggleShowAll()"
    class="bg-gradient-to-r from-gray-900 to-gray-900 hover:from-gray-900 hover:to-gray-900 text-white font-semibold px-8 py-3 rounded-xl transition-all duration-300 hover:scale-105 shadow-lg"
  >
    <span *ngIf="!showAll" class="flex items-center gap-2">
      <svg
        class="w-5 h-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
      See all questions ({{ faqs.length - initialCount }})
    </span>
    <span *ngIf="showAll" class="flex items-center gap-2">
      <svg
        class="w-5 h-5 rotate-180"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M19 9l-7 7-7-7"
        ></path>
      </svg>
      Hide Questions
    </span>
  </button>
</div>
